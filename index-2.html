<!DOCTYPE html>
<html lang="zh_cn">
<head>
<meta charset="utf-8">
<meta name="description" content="编程、数学、材料学等">
<meta name="viewport" content="width=device-width">
<title>ZomHub (旧文章页 2) | ZomHub</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="zh_cn" href="rss.xml">
<link rel="canonical" href="https://blog.zombie110year.top/index-2.html">
<link rel="icon" href="favicon.ico" sizes="256x256">
<link rel="icon" href="favicon.png" sizes="512x512">
<link rel="prev" href="." type="text/html">
<link rel="next" href="index-1.html" type="text/html">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">跳到主内容</a>
    <div id="container">
            <header id="header"><h1 id="brand"><a href="https://blog.zombie110year.top/" title="ZomHub" rel="home">

        <span id="blog-title">ZomHub</span>
    </a></h1>

        
            <nav id="menu"><ul>
<li><a href="archive.html">归档</a></li>
                <li><a href="categories/">标签</a></li>
                <li><a href="rss.xml">订阅</a></li>

    
    
    
    </ul></nav></header><main id="content"><div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/2020-05/add-cli-args-tab-completion-pwsh/" class="u-url">向 PowerShell 添加命令行工具的参数自动补全</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Zombie110year
            </span></p>
            <p class="dateline">
            <a href="posts/2020-05/add-cli-args-tab-completion-pwsh/" rel="bookmark">
            <time class="published dt-published" datetime="2020-05-11T16:34:02+08:00" itemprop="datePublished" title="2020-05-11 16:34">2020-05-11 16:34</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<p>PowerShell 提供了 Register-ArgumentCompleter 命令 <a class="footnote-reference brackets" href="posts/2020-05/add-cli-args-tab-completion-pwsh/#cmd-rac" id="id1">1</a> 用于注册自定义命令的参数补全函数。
以如下语法进行注册：</p>
<pre class="code powershell"><a name="rest_code_76cfe02f57f94ef5aa999b348c5fa5fa-1"></a><span class="nb">Register-ArgumentCompleter</span> <span class="n">-Native</span> <span class="n">-CommandName</span> <span class="p">&lt;</span><span class="n">String</span><span class="p">[]&gt;</span> <span class="n">-ScriptBlock</span> <span class="p">&lt;</span><span class="n">ScriptBlock</span><span class="p">&gt;</span>
</pre>
<dl class="option-list">
<dt><kbd><span class="option">-N<var>ative</var></span></kbd></dt>
<dd>
<p>一个 <code class="docutils literal">[switch]</code> 类型的选项，表明此补全代码用于非 PowerShell
提供的原生命令。由于本教程主要介绍为 Unix 迁移过来的命令行工具
添加补全，因此这个选项将会一直使用。</p>
</dd>
<dt><kbd><span class="option">-C<var>ommandName</var></span></kbd></dt>
<dd>
<p>指定要添加补全的命令名称。</p>
</dd>
<dt><kbd><span class="option">-S<var>criptBlock</var></span></kbd></dt>
<dd>
<p>指定用于提供补全的代码块，至少接受三个参数。</p>
</dd>
</dl>
<div class="contents topic" id="id2">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="posts/2020-05/add-cli-args-tab-completion-pwsh/#argumentcompleter-scriptblock" id="id4">ArgumentCompleter ScriptBlock</a></p></li>
<li><p><a class="reference internal" href="posts/2020-05/add-cli-args-tab-completion-pwsh/#wsl" id="id5">练习：为 WSL 提供命令补全</a></p></li>
<li><p><a class="reference internal" href="posts/2020-05/add-cli-args-tab-completion-pwsh/#id3" id="id6">参考链接</a></p></li>
</ul>
</div>
<p class="more"><a href="posts/2020-05/add-cli-args-tab-completion-pwsh/">阅读更多…</a></p>
</div>
    </div>
    </article>
</div>
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="." rel="prev">较新的文章</a>
            </li>
            <li class="next">
                <a href="index-1.html" rel="next">以前的文章</a>
            </li>
        </ul></nav><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="autoRenderKatex();"></script><script>
        function autoRenderKatex() {
            renderMathInElement(document.body,
                {
                    
delimiters: [
    {left: "$$", right: "$$", display: true},
    {left: "\\[", right: "\\]", display: true},
    {left: "\\begin{equation*}", right: "\\end{equation*}", display: true},
    {left: "\\begin{align*}", right: "\\end{align*}", display: true},
    {left: "$", right: "$", display: false},
    {left: "\\(", right: "\\)", display: false}
]

                }
            );
        }
        </script></main><footer id="footer"><p>Contents © 2020 <a href="mailto:zombie110year@outlook.com">Zombie110year</a> - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a> CC BY-NC-SA 4.0</p>
            
        </footer>
</div>

                <script src="assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
