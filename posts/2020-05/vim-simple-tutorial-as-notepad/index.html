<!DOCTYPE html>
<html lang="zh_cn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Vim 基础教程：当作 NotePad 使用 | ZomHub</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="zh_cn" href="../../../rss.xml">
<link rel="canonical" href="https://blog.zombie110year.top/posts/2020-05/vim-simple-tutorial-as-notepad/">
<link rel="icon" href="../../../favicon.ico" sizes="256x256">
<link rel="icon" href="../../../favicon.png" sizes="512x512">
<meta name="author" content="Zombie110year">
<link rel="prev" href="../../2020-04/tmux-simple-tutorial/" title="Tmux 简明教程" type="text/html">
<link rel="next" href="../tampermonkey-development-tutorial/" title="TamperMonkey 脚本开发教程" type="text/html">
<meta property="og:site_name" content="ZomHub">
<meta property="og:title" content="Vim 基础教程：当作 NotePad 使用">
<meta property="og:url" content="https://blog.zombie110year.top/posts/2020-05/vim-simple-tutorial-as-notepad/">
<meta property="og:description" content="目录

概览
先说说 Vim 的四种模式

普通模式
输入模式
选择模式
命令模式


打开 保存 另存为
移动光标
输入文本
删除文本
选择文本
复制与粘贴
剪切
搜索

用正则表达式搜索


替换
撤销动作
参考资料
Vim 其他用法

Vim 打开模式
Vim 多窗口编辑
Vim 调用外部命令
折叠相关
寄存器

关于自动缩进




录制宏
我的 Vim 配置文件


了解 Vim 的基本">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-05-02T16:56:36+08:00">
<meta property="article:tag" content="vim">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">跳到主内容</a>
    <div id="container">
            <header id="header"><h1 id="brand"><a href="https://blog.zombie110year.top/" title="ZomHub" rel="home">

        <span id="blog-title">ZomHub</span>
    </a></h1>

        
            <nav id="menu"><ul>
<li><a href="../../../archive.html">归档</a></li>
                <li><a href="../../../categories/">标签</a></li>
                <li><a href="../../../rss.xml">订阅</a></li>

    
    
    
    </ul></nav></header><main id="content"><article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Vim 基础教程：当作 NotePad 使用</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Zombie110year
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2020-05-02T16:56:36+08:00" itemprop="datePublished" title="2020-05-02 16:56">2020-05-02 16:56</time></a>
            </p>
                    <p class="sourceline"><a href="index.rst" class="sourcelink">源文件</a></p>

        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<div class="contents topic" id="id1">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id2" id="id28">概览</a></p></li>
<li>
<p><a class="reference internal" href="#vim" id="id29">先说说 Vim 的四种模式</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id30">普通模式</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id31">输入模式</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id32">选择模式</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id33">命令模式</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id7" id="id34">打开 保存 另存为</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id35">移动光标</a></p></li>
<li><p><a class="reference internal" href="#id9" id="id36">输入文本</a></p></li>
<li><p><a class="reference internal" href="#id10" id="id37">删除文本</a></p></li>
<li><p><a class="reference internal" href="#id11" id="id38">选择文本</a></p></li>
<li><p><a class="reference internal" href="#id12" id="id39">复制与粘贴</a></p></li>
<li><p><a class="reference internal" href="#id13" id="id40">剪切</a></p></li>
<li>
<p><a class="reference internal" href="#id14" id="id41">搜索</a></p>
<ul>
<li><p><a class="reference internal" href="#id15" id="id42">用正则表达式搜索</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id16" id="id43">替换</a></p></li>
<li><p><a class="reference internal" href="#id17" id="id44">撤销动作</a></p></li>
<li><p><a class="reference internal" href="#id18" id="id45">参考资料</a></p></li>
<li>
<p><a class="reference internal" href="#id19" id="id46">Vim 其他用法</a></p>
<ul>
<li><p><a class="reference internal" href="#id20" id="id47">Vim 打开模式</a></p></li>
<li><p><a class="reference internal" href="#id21" id="id48">Vim 多窗口编辑</a></p></li>
<li><p><a class="reference internal" href="#id22" id="id49">Vim 调用外部命令</a></p></li>
<li><p><a class="reference internal" href="#id23" id="id50">折叠相关</a></p></li>
<li>
<p><a class="reference internal" href="#id24" id="id51">寄存器</a></p>
<ul>
<li><p><a class="reference internal" href="#id25" id="id52">关于自动缩进</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#id26" id="id53">录制宏</a></p></li>
<li><p><a class="reference internal" href="#id27" id="id54">我的 Vim 配置文件</a></p></li>
</ul>
</div>
<p>了解 Vim 的基本操作, 能进行 NotePad.exe 所能进行的操作.</p>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id28">概览</a></h2>
<p>本文记录以下功能的实现方法:</p>
<ul class="simple">
<li><p>打开 保存 另存为</p></li>
<li><p>移动光标</p></li>
<li><p>输入文本</p></li>
<li><p>删除文本</p></li>
<li><p>选择文本</p></li>
<li><p>复制</p></li>
<li><p>剪切</p></li>
<li><p>粘贴</p></li>
<li><p>搜索</p></li>
<li><p>替换</p></li>
<li><p>撤销, 重做动作</p></li>
</ul>
<!-- TEASER_END --><!-- 指令：在普通模式下输入的符号 --><!-- 命令：在命令模式下输入的命令行 --><p>我刚开始用 Vim 的时候有一个误区, 认为 Vim
在普通模式下的按下的键就是按键. 但实际上是向 Vim 输入了对应字符,
只是这输入被解释为指令罢了. 所以, 不要纳闷一些 “特殊符号” 的键怎么按,
两个符号明明在同一个键位上怎么区分等问题了…</p>
</div>
<div class="section" id="vim">
<h2><a class="toc-backref" href="#id29">先说说 Vim 的四种模式</a></h2>
<p>Vim 有四种模式:</p>
<ol class="arabic simple">
<li><p>普通模式</p></li>
<li><p>输入模式</p></li>
<li><p>命令模式</p></li>
<li><p>可视模式(翻译为选择模式更贴切)</p></li>
</ol>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id30">普通模式</a></h3>
<p>普通模式下的 Vim 的光标呈现一个方块的形状, 盖在当前字符上,
进入其他模式后会发生变化, 这是区分当前模式的方法之一.</p>
<p>进入 Vim 时, 默认处于普通模式. 这个时候, 用户可以移动光标,
或进入其他模式. 这个模式下的 Vim 可以当作一个文本阅读器.</p>
<p>从任何模式, 都可以按 Esc 键退回该模式. 命令模式除外,
只需要将最开始的冒号 <code class="docutils literal">:</code> 删掉即可.</p>
<p>Vim 会将在普通模式下输入的字符记录并在右下角显示,
当输入的字符满足触发指令的时候, 就会执行相关指令. 例如切换模式等.</p>
</div>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id31">输入模式</a></h3>
<p>输入模式, 包括 插入, 替换 两种输入方式.</p>
<p>要进入输入模式, 可以通过 i 等按键从普通模式进入. 当前先掌握下表按键:</p>
<table>
<colgroup>
<col style="width: 18%">
<col style="width: 82%">
</colgroup>
<thead><tr>
<th class="head"><p>按键</p></th>
<th class="head"><p>作用</p></th>
</tr></thead>
<tbody>
<tr>
<td><p>i</p></td>
<td><p>在当前光标前插入</p></td>
</tr>
<tr>
<td><p>a</p></td>
<td><p>在当前光标后插入</p></td>
</tr>
<tr>
<td><p>o</p></td>
<td><p>在下方另起一行插入</p></td>
</tr>
<tr>
<td><p>O</p></td>
<td><p>在上方另起一行插入</p></td>
</tr>
<tr>
<td><p>r</p></td>
<td><p>替换当前字符</p></td>
</tr>
<tr>
<td><p>R</p></td>
<td><p>进入替换模式</p></td>
</tr>
</tbody>
</table>
<p>进入插入模式后, 左下角会显示提示符 <code class="docutils literal"><span class="pre">--INSERT--</span></code> ,
再按下按键就将在光标位置处插入对应文本.</p>
<p>具体说一下 <code class="docutils literal">r</code> <code class="docutils literal">R</code> 两个键的作用:</p>
<p>输入 <code class="docutils literal">r</code> 后, 在右下角会显示一个提示符
<code class="docutils literal">r</code>(在普通模式下输入的字符都会被记录在右下角, 试图解释为指令),
这时候输入任意一个字符, 就会将光标下的字符替换, 然后退出.</p>
<p>而输入 <code class="docutils literal">R</code> 则会进入替换模式, 在左下角有提示符 <code class="docutils literal"><span class="pre">--REPLACE--</span></code>,
此时输入的字符会将光标下的字符覆盖, 直到按下 <code class="docutils literal">Ecs</code> 退出.</p>
<p>简单来说, 就是 <code class="docutils literal">r</code> 只替换一个字符, <code class="docutils literal">R</code> 则进入替换模式.</p>
</div>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id32">选择模式</a></h3>
<p>普通模式下输入 v 进入选择模式, 此种选择模式是 <code class="docutils literal">流选择</code>,
效果就和在其他文本编辑器中按下 Shift 并移动光标一样.</p>
<p>普通模式下输入 V 进入行选择模式, 会按行选择.</p>
<p>对于两种选择方式, 有 <code class="docutils literal"><span class="pre">--VISUAL--</span></code> 和 <code class="docutils literal"><span class="pre">--VISUAL</span> <span class="pre">LINE--</span></code> 两种提示符.</p>
<p>Vim 也可以进行 「块选择」，在普通模式下按 Ctrl+V 键，进入块选择模式，
移动光标到合适位置，就可以继续按编辑键进入单行编辑模式：</p>
<dl class="simple">
<dt>I</dt>
<dd>
<p>在当前光标前插入</p>
</dd>
<dt>A</dt>
<dd>
<p>在当前光标后插入</p>
</dd>
</dl>
<p>当编辑完成后，按 ESC 返回普通模式，则 Vim 将会把单行编辑模式下的改动应用到所有选择的列中。</p>
</div>
<div class="section" id="id6">
<h3><a class="toc-backref" href="#id33">命令模式</a></h3>
<p>在普通模式下输入冒号 : 进入冒号模式, 会在最下方显示一个输入框,
开头就是输入的冒号. 在冒号后面输入要运行的命令并回车, 就会执行.</p>
<p>最常用的命令, 比如 <code class="docutils literal">:w</code> <code class="docutils literal">:wq</code> <code class="docutils literal">:q!</code> 等等. 则会 <code class="docutils literal">保存文件</code> ,
<code class="docutils literal">保存文件并退出</code> , <code class="docutils literal">退出, 不保存更改</code> .</p>
</div>
</div>
<div class="section" id="id7">
<h2><a class="toc-backref" href="#id34">打开 保存 另存为</a></h2>
<p>在终端中输入</p>
<pre class="code sh"><a name="rest_code_56a0775dc9014f3d84c88c0d6c64462c-1"></a>vim filename
</pre>
<p>则会以文本模式打开一个文件. 而加上 <code class="docutils literal"><span class="pre">-b</span></code> 参数, 则会以二进制模式打开.
因为二进制没怎么用过, 暂且不表.</p>
<p>编辑完文件后, 在 Vim 的普通模式下输入 : 进入命令模式.</p>
<ul class="simple">
<li><p><code class="docutils literal">:wq</code>, 保存并退出.</p></li>
<li><p><code class="docutils literal">:q!</code>, 退出且不保存.</p></li>
<li><p><code class="docutils literal">:w</code>, 保存, 不退出</p></li>
<li><p><code class="docutils literal">:w new_file_path</code>, 将文件另存为到指定文件中.
(可使用相对路径或绝对路径).</p></li>
</ul>
</div>
<div class="section" id="id8">
<h2><a class="toc-backref" href="#id35">移动光标</a></h2>
<p>在任何模式下, 都可以通过键盘方向键移动光标, 而在普通模式和选择模式下,
可以用<code class="docutils literal">kjhl</code> 移动光标, 效果和方向键相同.</p>
<pre class="literal-block">  上             k
左下右         h j l</pre>
<p>还有另一些功能特殊的键:</p>
<table>
<colgroup>
<col style="width: 23%">
<col style="width: 77%">
</colgroup>
<thead><tr>
<th class="head"><p>输入</p></th>
<th class="head"><p>作用</p></th>
</tr></thead>
<tbody>
<tr>
<td><p><code class="docutils literal">w</code></p></td>
<td><p>移动到下一个单词头部</p></td>
</tr>
<tr>
<td><p><code class="docutils literal">e</code></p></td>
<td><p>移动到下一个单词尾部</p></td>
</tr>
<tr>
<td><p><code class="docutils literal">b</code></p></td>
<td><p>移动到上一个单词头部</p></td>
</tr>
<tr>
<td><p><code class="docutils literal">ge</code></p></td>
<td><p>移动到上一个单词尾部</p></td>
</tr>
<tr>
<td><p><code class="docutils literal">^</code></p></td>
<td><p>移动到行首</p></td>
</tr>
<tr>
<td><p><code class="docutils literal">$</code></p></td>
<td><p>移动到行尾</p></td>
</tr>
<tr>
<td><p><code class="docutils literal">gg</code></p></td>
<td><p>移动到文件头部</p></td>
</tr>
<tr>
<td><p><code class="docutils literal">G</code></p></td>
<td><p>移动到文件尾部</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id9">
<h2><a class="toc-backref" href="#id36">输入文本</a></h2>
<p>参阅 <a class="reference internal" href="#id4">输入模式</a>.</p>
</div>
<div class="section" id="id10">
<h2><a class="toc-backref" href="#id37">删除文本</a></h2>
<ul class="simple">
<li><p>在普通模式下, 输入 <code class="docutils literal">x</code> 删除光标所在字符.</p></li>
<li><p>在普通模式下, 输入 <code class="docutils literal">X</code> 删除光标前一个字符.</p></li>
<li><p>在选择模式下, 输入 <code class="docutils literal">x</code> 或 输入 <code class="docutils literal">X</code> 都会删除选中部分, 如果输入
<code class="docutils literal">X</code>, 会删除选中部分所在行(如果选择部分只是某行的一部分,
也会删除整行).</p></li>
<li><p>在普通模式下, 输入 <code class="docutils literal">dd</code> 删除光标所在行.</p></li>
<li><p>在选择模式下, 输入 <code class="docutils literal">d</code> 删除选中部分.</p></li>
</ul>
<p>被删除的文本都会被存储在寄存器中.</p>
</div>
<div class="section" id="id11">
<h2><a class="toc-backref" href="#id38">选择文本</a></h2>
<p>在 <a class="reference internal" href="#id5">选择模式</a> 下移动光标即可选择文本.</p>
</div>
<div class="section" id="id12">
<h2><a class="toc-backref" href="#id39">复制与粘贴</a></h2>
<p>复制：</p>
<ul class="simple">
<li><p>在普通模式下, 输入 <code class="docutils literal">yy</code> 复制光标所在行.</p></li>
<li><p>在选择模式下, 输入 <code class="docutils literal">y</code> 复制选中部分.</p></li>
</ul>
<p>粘贴：</p>
<p>普通模式下:</p>
<ul class="simple">
<li><p><code class="docutils literal">p</code> (小写), 粘贴到下一行.</p></li>
<li><p><code class="docutils literal">P</code> (大写), 粘贴到上一行.</p></li>
<li><p><code class="docutils literal">gp</code> 粘贴到光标之后.</p></li>
<li><p><code class="docutils literal">gP</code> 粘贴到光标之前.</p></li>
</ul>
<p>更多关于复制与粘贴的内容，参见 <a class="reference internal" href="#id24">寄存器</a>。</p>
</div>
<div class="section" id="id13">
<h2><a class="toc-backref" href="#id40">剪切</a></h2>
<p>被删除的文本会被保存到默认寄存器中, 如果再粘贴出来, 就是 “剪切+粘贴”
的效果.</p>
</div>
<div class="section" id="id14">
<h2><a class="toc-backref" href="#id41">搜索</a></h2>
<p>Vim 的搜索功能通过命令来实现.</p>
<p>要使用搜索命令, 在命令模式下输入 <code class="docutils literal">/</code> 接着输入需要搜索的字符串,
就能跳转到指针后的第 1 个匹配的字符串. 可以通过 <code class="docutils literal">n</code> 跳转到下一个, 输入
<code class="docutils literal">N</code> 跳转到上一个.</p>
<p>例如 <code class="docutils literal">:/search</code>.</p>
<p>如果要向上搜索的话, 使用 <code class="docutils literal">?</code>. 例如 <code class="docutils literal"><span class="pre">:?search</span></code></p>
<p>如果输入 <code class="docutils literal">//</code> 则意味着重复上一次搜索.</p>
<p>如果要搜索某个单独的单词, 而非单词之中的某一段字符串, 可以使用 <code class="docutils literal">\&lt;</code> 和
<code class="docutils literal">\&gt;</code> 标记单词头尾.</p>
<p>例如 <code class="docutils literal"><span class="pre">:/\&lt;look\&gt;</span></code> 就只会搜索到单独的 <code class="docutils literal">look</code>, 而不会搜索到
<code class="docutils literal">somebody@outlook</code> 中的 <code class="docutils literal">look</code>.</p>
<blockquote>
<p>也可以直接按下 /，进入搜索模式。</p>
</blockquote>
<div class="section" id="id15">
<h3><a class="toc-backref" href="#id42">用正则表达式搜索</a></h3>
<blockquote>
<p>实际上, Vim 的搜索功能一直使用的是正则表达式, 只需要在 <code class="docutils literal">:/</code>
后输入合法的表达式即可.</p>
</blockquote>
<p>需要注意的是, 正则表达式中的元字符有一部分需要使用 <code class="docutils literal">\</code> 转义, 否则 Vim
会将其当作普通字符处理, 这与其他使用正则的情况不同.</p>
<p>目前已知的需要转义的字符:</p>
<ul class="simple">
<li><p><code class="docutils literal">+</code> , 限定符, 不转义会作为普通字符.</p></li>
<li><p><code class="docutils literal">*</code> , 限定符, 不转义会作为通配符.</p></li>
<li><p><code class="docutils literal">?</code> , 限定符, 不转义会作为普通字符.</p></li>
<li><p>各种括号, 限定符, 子表达式等; 不转义会作为普通字符.</p></li>
<li><p><code class="docutils literal">|</code> , 或逻辑, 不转义会作为普通字符.</p></li>
</ul>
</div>
</div>
<div class="section" id="id16">
<h2><a class="toc-backref" href="#id43">替换</a></h2>
<p>除了输入模式里介绍过的 <code class="docutils literal">r</code> 与 <code class="docutils literal">R</code> 之外, Vim
还可以用命令替换指定字符串.</p>
<p><code class="docutils literal"><span class="pre">:s/&lt;from&gt;/&lt;to&gt;</span></code> 即是最简单的替换命令. 它将搜索到的 <code class="docutils literal">&lt;from&gt;</code>
字符串或正则表达式替换为 <code class="docutils literal">&lt;to&gt;</code> 字符串. 和用 <code class="docutils literal"><span class="pre">:/&lt;from&gt;</span></code>
搜索到的位置一致.</p>
<p>这个命令只生效一次, 如果要重复替换行为, 可以使用 <code class="docutils literal">.</code>, 此符号意味着
“重复上一次操作”.</p>
<p>使用替换操作时需要指定操作范围:</p>
<pre class="literal-block">:[range]s/&lt;form&gt;/&lt;to&gt;/[flags]</pre>
<p><code class="docutils literal">range</code> 参数表示操作范围, 常用的有 - <code class="docutils literal">%</code> 表示整个文档 - <code class="docutils literal">2, 15</code>
表示第 2 行到第 15 行 - <code class="docutils literal">., +15</code> 表示从当前行到 15 行后</p>
<p><code class="docutils literal">flags</code> 参数设置替换策略. 常用的有 - <code class="docutils literal">g</code> 全局替换,
将会一次性替换操作范围内所有目标. - <code class="docutils literal">c</code> 表示确认选项,
每次替换前会确认一次. - <code class="docutils literal">I</code>, <code class="docutils literal">i</code>, 搜索时是否大小写敏感, <code class="docutils literal">i</code>
为不敏感, <code class="docutils literal">I</code> 为敏感.</p>
</div>
<div class="section" id="id17">
<h2><a class="toc-backref" href="#id44">撤销动作</a></h2>
<p>在普通模式下输入 <code class="docutils literal">u</code> 撤销一次修改. 可以一直回退,
虽然修改记录的数量应该会有一个极限,
但大多数时候我都能回退到打开文件最开始时的状态.</p>
<p>如果回退过度, 可以通过 <code class="docutils literal">control+r</code> 重做. 按下 Ctrl + r 键,
此键实际上向 Vim 输入了控制字符.</p>
</div>
<div class="section" id="id18">
<h2><a class="toc-backref" href="#id45">参考资料</a></h2>
<p>参考资料来源未整理, 无法提供.</p>
<p>推荐:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/vim-china">Vim 中文社区</a></p></li>
</ul>
</div>
<div class="section" id="id19">
<h2><a class="toc-backref" href="#id46">Vim 其他用法</a></h2>
<div class="section" id="id20">
<h3><a class="toc-backref" href="#id47">Vim 打开模式</a></h3>
<ul class="simple">
<li>
<p>打开模式</p>
<ul>
<li><p><code class="docutils literal"><span class="pre">-b</span></code> 二进制模式</p></li>
<li><p><code class="docutils literal"><span class="pre">-o</span></code> 多文件模式</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id21">
<h3><a class="toc-backref" href="#id48">Vim 多窗口编辑</a></h3>
<p>Vim 在打开一组文件的使用可以使用 <code class="docutils literal"><span class="pre">-o</span></code> 或 <code class="docutils literal"><span class="pre">-O</span></code>
参数来进行多窗口的打开:</p>
<pre class="code sh"><a name="rest_code_a044854557a749b4b50840123810ce8b-1"></a><span class="c1"># 垂直划分</span>
<a name="rest_code_a044854557a749b4b50840123810ce8b-2"></a>vim -o file1 file2
<a name="rest_code_a044854557a749b4b50840123810ce8b-3"></a><span class="c1"># 水平划分</span>
</pre>
<p>所谓的垂直与水平, 是指窗口见分界线的分布, 例如:</p>
<pre class="literal-block"># 垂直
+-----+-----+
|     |     |
|     |     |
+-----+-----+

# 水平
+-----------+
|           |
+-----------+
|           |
+-----------+</pre>
<p>也可以在进入 Vim 编辑器中后进行窗口的打开操作:</p>
<ul class="simple">
<li><p><code class="docutils literal">:split &lt;filename&gt;</code> 打开新文件并水平划分窗口</p></li>
<li><p><code class="docutils literal">:vsplit &lt;filename&gt;</code> 打开新文件并竖直划分窗口</p></li>
</ul>
<p>在有多个窗口后, 可以通过这些操作来进行调整</p>
<table>
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead><tr>
<th class="head"><p>目标</p></th>
<th class="head"><p>操作</p></th>
<th class="head"><p>备注</p></th>
</tr></thead>
<tbody>
<tr>
<td><p>移动窗口焦点</p></td>
<td><p><code class="docutils literal"><span class="pre">C-w</span> h|j|k|l</code></p></td>
<td><p>先按下 Ctrl+w 组合键，然后通过 hjkl移动窗口焦点</p></td>
</tr>
<tr>
<td><p>改变窗口布局</p></td>
<td><p><code class="docutils literal"><span class="pre">C-w</span> <span class="pre">=|-|+|&lt;|&gt;|\|</span></code></p></td>
<td><p>调整当前窗口大小：<code class="docutils literal">=</code> 均分所有窗口，<code class="docutils literal"><span class="pre">-+</span></code> 调整高度，<code class="docutils literal">&lt;&gt;</code> 调整宽度，
<code class="docutils literal">|</code> 则将当前窗口最大化。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id22">
<h3><a class="toc-backref" href="#id49">Vim 调用外部命令</a></h3>
<ul class="simple">
<li>
<p><code class="docutils literal">:!cmd</code> 执行 Shell 命令 <code class="docutils literal">cmd</code>, 例如 <code class="docutils literal">:!echo Hello</code> 将会
<strong>跳出</strong> 编辑器通过系统 Shell 而显示 <code class="docutils literal">Hello</code>. Windows 系统下 Shell
环境为 Cmd. 要使用 PowerShell, 需要 <code class="docutils literal">:!powershell echo Hello</code>.</p>
<ul>
<li><p><code class="docutils literal">%</code> 表示此文件.</p></li>
<li><p><code class="docutils literal">xxd.exe</code> 用于将文件在文本模式与十六进制模式之间转换. <code class="docutils literal"><span class="pre">:%!xxd</span></code>
转化为十六进制, <code class="docutils literal"><span class="pre">:%!xxd</span> <span class="pre">-r</span></code> 由十六进制转化为文本.</p></li>
</ul>
</li>
</ul>
<p>当使用 <code class="docutils literal">:%! cmd</code> 时，Vim 会将全文内容发送给调用命令的 stdin，然后将
stdout 内容替换当前文件。 最前方的 <code class="docutils literal">%</code> 其实是一个 Range
参数，表示全文，它还可以为以下值：</p>
<ul class="simple">
<li><p><code class="docutils literal">'&lt;, '&gt;</code> 表示可视模式下选中的内容</p></li>
<li><p><code class="docutils literal">1,30</code> 表示从第一行到第三十行</p></li>
</ul>
<p>等等。</p>
</div>
<div class="section" id="id23">
<h3><a class="toc-backref" href="#id50">折叠相关</a></h3>
<p>添加折叠 za 打开折叠 zo 关闭折叠 zc</p>
<blockquote>
<p>date:2018-08-27 00:22:28</p>
</blockquote>
</div>
<div class="section" id="id24">
<h3><a class="toc-backref" href="#id51">寄存器</a></h3>
<p>在 Vim 中，你可以访问系统剪贴板:</p>
<p>剪切: <code class="docutils literal">"+y</code> 粘贴: <code class="docutils literal">"+p</code></p>
<p>这其实就是使用了 Vim 的寄存器功能。 Vim 有多个寄存器：<code class="docutils literal">"</code>
是默认寄存器；<code class="docutils literal">0</code> ~ <code class="docutils literal">9</code> 作为多级缓存；<code class="docutils literal">a</code> ~ <code class="docutils literal">z</code>
作为命名寄存器；<code class="docutils literal">_</code> 是黑洞寄存器，功能类似于 Linux 中的特殊文件
<code class="docutils literal">/dev/null</code>；<code class="docutils literal">+</code> 和 <code class="docutils literal">*</code> 访问系统剪贴板。还有三个特殊的寄存器
<code class="docutils literal">:</code>, <code class="docutils literal">/</code>,
<code class="docutils literal">%</code>，用来存储上次执行的命令和搜索关键词以及所编辑的文件路径（相对路径）。<code class="docutils literal">"</code>
同时也是操作寄存器的前缀指令。</p>
<p>当在 Vim
中不带前缀地剪切（剪切和删除是一个概念）和粘贴时，内容将被存储到 <code class="docutils literal">"</code>
寄存器以及 <code class="docutils literal">0</code> 寄存器。
而在多次进行编辑时，缓存寄存器中的内容将会逐级移动， <code class="docutils literal">0</code>
中的内容将会移动到 <code class="docutils literal">1</code>， <code class="docutils literal">1</code> 到 <code class="docutils literal">2</code>， <code class="docutils literal">2</code> 到 <code class="docutils literal">3</code> … 直到
<code class="docutils literal">9</code> 被删除。</p>
<p>当要永久保存某些内容时，可以使用 <code class="docutils literal">a</code>~<code class="docutils literal">z</code>
之间的字母寄存器，它们是明明寄存器，除非主动覆盖，内部内容不会变化。</p>
<p><code class="docutils literal">+</code> 和 <code class="docutils literal">*</code> 与系统剪贴板相联通，对于 Windows
系统，这两者是一样的，而对于 Unix 系统，这两者存在不同。 <code class="docutils literal">+</code> 访问的是
X11 系统的 cut buffer， 而 <code class="docutils literal">*</code> 访问 selection。要使用此功能需要确保
Vim 特性列表中包含 <code class="docutils literal">+clipboard</code>。</p>
<p>要操作某个寄存器，使用指令 <code class="docutils literal">"&lt;寄存器名&gt;y</code> 复制，<code class="docutils literal">"&lt;寄存器名&gt;p</code>
粘贴。（注意 <code class="docutils literal">"</code> 前缀！） 也可以通过命令 <code class="docutils literal">:reg</code> 来查看寄存器的状态。</p>
<div class="section" id="id25">
<h4><a class="toc-backref" href="#id52">关于自动缩进</a></h4>
<p>在复制粘贴具有缩进的代码，例如 Python 时，Vim
的自动缩进功能可能会导致内容变得更混乱，有两个方法来规避：</p>
<ol class="arabic simple">
<li><p>总是新起一行粘贴内容，之后再通过 <code class="docutils literal"><span class="pre">S-&gt;</span></code> 来调整缩进。</p></li>
<li><p>设置 <code class="docutils literal">:set pastetoggle</code> 来切换为粘贴模式，将会禁用 autoindent
等干扰内容的功能，之后用同样的命令切换回来。</p></li>
</ol>
</div>
</div>
</div>
<div class="section" id="id26">
<h2><a class="toc-backref" href="#id53">录制宏</a></h2>
<p>Vim 可以将一系列操作录制到一个寄存器中，然后调用。</p>
<p>进入宏录制模式，需要在 Normal 模式下点击 <code class="docutils literal">q&lt;x&gt;</code> 进入，<code class="docutils literal">&lt;x&gt;</code> 表示一个合法的
寄存器名，可用 a~z 26 个字母或 0~9 10个数字:</p>
<pre class="literal-block">q0</pre>
<p>然后，在状态栏上将会显示 <code class="docutils literal">recording @&lt;x&gt;</code> 表示在宏录制模式中。
在录制模式中，进行的一些操作都会保存到寄存器中。</p>
<p>退出宏录制模式，在宏录制模式的 Normal 模式下再点击 q 键即可。</p>
<p>如果要应用一段录制的宏，在 Normal 模式下点击 <code class="docutils literal">@&lt;x&gt;</code> 即可，可以用数字指定重复次数。</p>
</div>
<div class="section" id="id27">
<h2><a class="toc-backref" href="#id54">我的 Vim 配置文件</a></h2>
<script src="https://gist.github.com/zombie110year/0e52018a219c1316a3b3f087ba4c0684.js"></script>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../categories/vim/" rel="tag">vim</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../../2020-04/tmux-simple-tutorial/" rel="prev" title="Tmux 简明教程">上一篇文章</a>
            </li>
            <li class="next">
                <a href="../tampermonkey-development-tutorial/" rel="next" title="TamperMonkey 脚本开发教程">下一篇文章</a>
            </li>
        </ul></nav></aside><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" onload="autoRenderKatex();"></script><script>
        function autoRenderKatex() {
            renderMathInElement(document.body,
                {
                    
delimiters: [
    {left: "$$", right: "$$", display: true},
    {left: "\\[", right: "\\]", display: true},
    {left: "\\begin{equation*}", right: "\\end{equation*}", display: true},
    {left: "\\begin{align*}", right: "\\end{align*}", display: true},
    {left: "$", right: "$", display: false},
    {left: "\\(", right: "\\)", display: false}
]

                }
            );
        }
        </script></article></main><footer id="footer"><p>Contents © 2020 <a href="mailto:zombie110year@outlook.com">Zombie110year</a> - Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a> CC BY-NC-SA 4.0</p>
            
        </footer>
</div>

                <script src="../../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
